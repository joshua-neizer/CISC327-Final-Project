# R3 - / [GET]

## R3.1
**If the user is not logged in, redirect to login page**

Actions:
* (DO NOT LOG IN FIRST)
* navigate to '/'
* assert that URL is /login
* assert that `#login_input` exists

## R3.2
**This page shows a header `'Hi {}'.format(user.name)`**

Additional Test Data:
```
test_user = User(
	email = 'test_frontend@test.com',
	name = 'test_frontend',
	password = generate_password_hash('test_frontend'),
	balance = 140
)
```

Mocking:
* Mock backend.get_user to return a test_user instance

Actions:
* open /logout to invalidate any logged-in sessions
* open /login
* enter email into #email
* enter password into #password
* click element ```input[type="submit"]```
* validate redirected URL is equivalent to /
* validate page has `#header` element that shows `Hi test_user`
* open /logout

## R3.3
**This page shows the user balance**

Additional Test Data:
```
test_user = User(
	email = 'test_frontend@test.com',
	name = 'test_frontend',
	password = generate_password_hash('test_frontend'),
	balance = 140
)
```

Mocking:
* Mock backend.get_user to return a test_user instance

Actions:
* open /logout to invalidate any logged-in sessions
* open /login
* enter email into #email
* enter password into #password
* click element ```input[type="submit"]```
* validate redirected URL is equivalent to /
* validate page has `#user_balance` element that shows `test_user.balance`
* open /logout

## R3.4
**This page shows a logout link, pointing to /logout - Positive**

Additional Test Data:
```
test_user = User(
	email = 'test_frontend@test.com',
	name = 'test_frontend',
	password = generate_password_hash('test_frontend'),
	balance = 140
)
```

Mocking:
* Mock backend.get_user to return a test_user instance

Actions:
* open /logout to invalidate any logged-in sessions
* open /login
* enter email into #email
* enter password into #password
* click element ```input[type="submit"]```
* validate redirected URL is equivalent to /
* validate page has `#logout` element
* click element `input[type="logout"]`
* validate redirected URL is equivalent to /logout

## R3.4
**This page shows a logout link, pointing to /logout - Negative**

Additional Test Data:
```
test_user = User(
	email = 'test_frontend@test.com',
	name = 'test_frontend',
	password = generate_password_hash('test_frontend'),
	balance = 140
)
```

Mocking:
* Mock backend.get_user to return a test_user instance

Actions:
* open /logout to invalidate any logged-in sessions
* open /login
* enter email into #email
* enter password into #password
* click element ```input[type="submit"]```
* validate redirected URL is equivalent to /
* validate page has `#logout` element
* click element `input[type="logout"]`
* `#logout` does not redirect to /logout
* navigate selenium to `/randomtest`
* validate that div containing `#error404` exists on redirected page

## R3.5
**This page lists all available tickets. Information including the quantity of each ticket, the owner's email, and the price for tickets that are not expired**

Additional Test Data:
```
test_user = User(
	email = 'test_frontend@test.com',
	name = 'test_frontend',
	password = generate_password_hash('test_frontend'),
	balance = 140
)
```

Mocking:
* Mock backend.get_user to return a test_user instance

Actions:
* open /logout to invalidate any logged-in sessions
* open /login
* enter email into #email
* enter password into #password
* click element ```input[type="submit"]```
* validate redirected URL is equivalent to /
* for each valid ticket in database that has not expired
	* validate page has `#ticket_name` that shows name of ticket
	* validate page has `#ticket_price` that shows price of ticket
	* validate page has `#ticket_owner` that shows owner email of ticket
	* validate page has `#ticket_count` that shows number of remaining tickets of that type
* open /logout
