# R5 -  /update POST

Note that R5 is very similar to R4,
but with the additional requirement
of mocking data.

## R5.1

**The name of the ticket has to be alphanumeric-only,
and space allowed only if it is not the first or the last character.**

Use the following invalid ticket names:

- `'special^character'`
- `' spacebefore'`
- `'spaceafter '`

Use the following valid ticket names

- `'space in between'`
- `'numbersandletters123456789'`
- `'9876543'`

```
For each valid ticket name
	mock ticket with name
	assert POST /update response is HTTP 200

For each invalid ticket name
	assert POST /update response is HTTP 400
```

## R5.2

**The name of the ticket is no longer than 60 characters**

```
mock ticket 'shortname'
mock ticket 'vveryveryveryveryveryveryveryveryveryveryveryveryveryveryeryverylongname'
assert POST /update response is HTTP 200 for short ticket name
assert POST /update response is HTTP 400 for long ticket name
```

## R5.3

**The quantity of the tickets has to be more than 0,
and less than or equal to 100**

```
mock ticket 'shortname'

assert POST response is HTTP 400 for update 'shortname' tickets = -1
assert POST response is HTTP 400 for update 'shortname' tickets = 0
assert POST response is HTTP 200 for update 'shortname' tickets = 1
assert POST response is HTTP 200 for update 'shortname' tickets = 50
assert POST response is HTTP 200 for update 'shortname' tickets = 100
assert POST response is HTTP 400 for update 'shortname' tickets = 101
```

## R5.4

**Price has to be of range [10,100]**

```
mock ticket 'shortname'

assert POST response is HTTP 400 for update 'shortname' price = -11
assert POST response is HTTP 400 for update 'shortname' price = 9
assert POST response is HTTP 200 for update 'shortname' price = 10
assert POST response is HTTP 200 for update 'shortname' price = 50
assert POST response is HTTP 200 for update 'shortname' price = 100
assert POST response is HTTP 400 for update 'shortname' price = 101
```

## R5.5

**Date must be given in the format YYYYMMDD**

Use the following invalid dates:

- `'January 23 2018'`
- `'01/02/99'`
- `'19991303'`
- `'19990465'`

Use the following valid dates:

- `'19990101'`
- `'20030517'`

```
For each valid date
	mock ticket with date
	assert POST /update response is HTTP 200

For each invalid date
	assert POST /update response is HTTP 400
```

## R5.6

**The ticket of the given name must exist**

```
POST /update with ticket name 'ticketdoesnotexist'
assert HTTP code is 400
```

## R5.7

```
POST /update with ticket name 'ticketdoesnotexist'
assert HTML div for error message exists
assert error div is non-empty
```
